<div class="form-group">
    <label for="{{ field.name }}" class="form-label">
        {{ field.label }}
        {% if field.required|default(false) %}
            <span class="text-danger">*</span>
        {% endif %}
        {% if field.name == 'requester_name' and user.name %}
            <span class="badge bg-info ms-2">Auto-filled</span>
        {% endif %}
    </label>
    
    <input 
        type="text" 
        class="form-control" 
        id="{{ field.name }}" 
        name="{{ field.name }}" 
        {% if field.required|default(false) %}required{% endif %}
        {% if field.placeholder|default('') %}placeholder="{{ field.placeholder }}"{% endif %}
        {% if field.name == 'requester_name' and user.name %}
            value="{{ user.name }}"
            readonly
        {% elseif autosaved_data[field.name]|default('') %}
            value="{{ autosaved_data[field.name] }}"
        {% elseif field.default|default('') %}
            value="{{ field.default }}"
        {% endif %}
    >
    
    {% if field.validation|default('') %}
        <div class="form-text">
            {% if 'max:' in field.validation %}
                {% set max_length = field.validation|split('max:')|last|split('|')|first %}
                Maximum {{ max_length }} characters
            {% endif %}
        </div>
    {% endif %}
    
    <div class="invalid-feedback">
        {% if field.required|default(false) %}
            {{ field.label }} is required.
        {% else %}
            Please enter a valid {{ field.label|lower }}.
        {% endif %}
    </div>
</div>
