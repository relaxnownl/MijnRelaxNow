<div class="form-group">
    <label for="{{ field.name }}" class="form-label">
        {{ field.label }}
        {% if field.required|default(false) %}
            <span class="text-danger">*</span>
        {% endif %}
        {% if field.name == 'requester_email' and user.email %}
            <span class="badge bg-info ms-2">Auto-filled</span>
        {% endif %}
    </label>
    
    <input 
        type="email" 
        class="form-control" 
        id="{{ field.name }}" 
        name="{{ field.name }}" 
        {% if field.required|default(false) %}required{% endif %}
        {% if field.placeholder|default('') %}placeholder="{{ field.placeholder }}"{% endif %}
        {% if field.name == 'requester_email' and user.email %}
            value="{{ user.email }}"
            readonly
        {% elseif autosaved_data[field.name]|default('') %}
            value="{{ autosaved_data[field.name] }}"
        {% elseif field.default|default('') %}
            value="{{ field.default }}"
        {% endif %}
    >
    
    <div class="invalid-feedback">
        Please enter a valid email address.
    </div>
</div>
